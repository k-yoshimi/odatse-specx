# Example: Minimize magnetization
# Extracts magnetization value from AkaiKKR output
# Format: magnetization=   0.1036 T

[base]
dimension = 3
root_dir = "."
output_dir = "odatse/output"

[algorithm]
name = "mapper"
seed = 20240502

[algorithm.param]
min_list = [0.0, 0.0, 0.0]
max_list = [1.0, 1.0, 1.0]
num_list = [5, 5, 5]

[solver]
name = "function"

[runner]
[runner.log]
interval = 10

[hea]
template_input = "template.in"  # Template file in this directory
target_label = "Y_1h_2"
new_label = "Ln_HEA"
work_dir = "runs/hea_trials"
output_file = "test.out"
akai_command = ["specx", "<", "{input}", ">", "{output}"]
keep_intermediate = false
simplex_mode = true
error_penalty = 1.0e10

[hea.metric]
name = "magnetization"
pattern = "magnetization=\\s*([-\\d.]+)\\s*T"  # Extract numeric value before "T"
scale = 1.0  # Keep original units (Tesla)
ignore_case = true
group = 1
# Optional: transform to absolute value if you want to minimize |magnetization|
# transform = "abs"

[[hea.species]]
label = "Y"
atomic_number = 39

[[hea.species]]
label = "La"
atomic_number = 57

[[hea.species]]
label = "Nd"
atomic_number = 60

[[hea.species]]
label = "Sm"
atomic_number = 62

